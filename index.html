<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movimento Auxilia Brasil</title>

    <!-- CSS -->
    <link rel="stylesheet" href="style.css?v=6">
    <!-- Leaflet & Chart.js -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />

    <!-- Libraries (Compat) -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/vue-router@4/dist/vue-router.global.js"></script>
    <script src="https://unpkg.com/vue-i18n@9/dist/vue-i18n.global.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Firebase Compat -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics-compat.js"></script>
</head>

<body>
    <div id="app">
        <!-- Top Utility Bar -->
        <div class="top-bar">
            <div class="container">
                <a href="#" @click.prevent="changeLang('pt-BR')">PT</a>
                <a href="#" @click.prevent="changeLang('es')">ES</a>
                <a href="#" @click.prevent="changeLang('en')">EN</a>
                <a href="#/together"
                    style="background: var(--primary-color); padding: 5px 10px; border-radius: 4px; color: white; font-weight: bold;">Together</a>
                <a v-if="!user" href="#/login">Login</a>
                <a v-else href="#/admin">Admin</a>
            </div>
        </div>

        <!-- Main Header -->
        <header>
            <div class="header-inner">
                <div class="logo">
                    Movimento <span>Auxilia</span> Brasil
                </div>

                <button class="mobile-toggle" @click="toggleMenu">☰</button>

                <nav class="nav-menu" :class="{ open: isMenuOpen }">
                    <router-link to="/" class="nav-link" @click="closeMenu">{{ t('nav.home') }}</router-link>
                    <router-link to="/missoes" class="nav-link" @click="closeMenu">{{ t('nav.missions') }}</router-link>
                    <router-link to="/espiritualidade" class="nav-link" @click="closeMenu">{{ t('nav.spirituality')
                        }}</router-link>
                    <router-link to="/transparencia" class="nav-link" @click="closeMenu">{{ t('nav.transparency')
                        }}</router-link>
                    <router-link to="/pastorais" class="nav-link" @click="closeMenu">{{ t('nav.pastorals')
                        }}</router-link>

                    <!-- Social Icons -->
                    <div class="social-icons" style="display: flex; gap: 10px; margin-left: 20px;">
                        <a href="https://instagram.com/somosauxilia" target="_blank" title="Instagram">
                            <img src="https://cdn-icons-png.flaticon.com/512/1384/1384063.png"
                                style="width: 24px; filter: brightness(0) invert(1);">
                        </a>
                        <a href="https://youtube.com/@somosauxilia" target="_blank" title="YouTube">
                            <img src="https://cdn-icons-png.flaticon.com/512/1384/1384060.png"
                                style="width: 24px; filter: brightness(0) invert(1);">
                        </a>
                        <a href="https://twitter.com/somosauxilia" target="_blank" title="X (Twitter)">
                            <img src="https://cdn-icons-png.flaticon.com/512/5969/5969020.png"
                                style="width: 24px; filter: brightness(0) invert(1);">
                        </a>
                    </div>
                </nav>
            </div>
        </header>

        <main>
            <router-view></router-view>
        </main>

        <footer>
            <div class="container">
                <p>&copy; 2026 Movimento Auxilia Brasil - Todos os direitos reservados.</p>
                <p>Evangelizando com alegria e carisma.</p>
            </div>
        </footer>
    </div>

    <!-- Radio Player (Fixed Bottom) -->
    <div class="radio-player"
        style="position: fixed; bottom: 0; left: 0; width: 100%; background: #222; color: white; padding: 10px; display: flex; align-items: center; justify-content: center; gap: 20px; z-index: 9999; box-shadow: 0 -2px 10px rgba(0,0,0,0.5);">
        <div style="display: flex; align-items: center; gap: 10px;">
            <img src="https://cdn-icons-png.flaticon.com/512/59/59284.png" style="width: 30px; filter: invert(1);">
            <div>
                <strong style="display: block; font-size: 0.9rem;">Rádio Cultura FM 107.5</strong>
                <span style="font-size: 0.8rem; color: #aaa;">Aracaju / SE - Ao Vivo</span>
            </div>
        </div>
        <audio controls style="height: 30px; max-width: 300px;">
            <source src="https://ice.fabricahost.com.br/culturafmarcaju" type="audio/mpeg">
            <!-- Fallback / Try different common stream structures if fails -->
            <source src="http://streaming.fabricahost.com.br:8000/culturafmaracaju" type="audio/mpeg">
            Seu navegador não suporta áudio.
        </audio>
    </div>

    <!-- App Scripts -->
    <script src="firebase-config.js"></script>
    <script src="seed.js"></script>
    <script type="module" src="app.js?v=9"></script>
</body>

</html>